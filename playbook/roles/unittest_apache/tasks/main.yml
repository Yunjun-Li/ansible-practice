- name: "curl:  bastion server -> apache server 8080 port"
  ansible.builtin.shell:
    cmd: |
      curl http://{{ hostvars[groups['apache'][0]].public_ip_address }}:8080
  register: result

- debug:
    var: "result"
    verbosity: 0

# - name: "check result"
#   ansible.builtin.assert:
#     that:
#       - result

